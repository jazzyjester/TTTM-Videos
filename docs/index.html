<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <title>טנ"ש ישראלי - סרטונים</title>
  <link rel="shortcut icon" href="https://www.tttm.co.il/favicon.ico">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H0GG11C76Z"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-H0GG11C76Z');
  </script>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- External CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>

<body dir="rtl">
  <!-- Header -->
  <div class="header">
    <div class="header-content">
      <h1>טנ"ש ישראלי - סרטונים</h1>
      <p class="subtitle">כל הסרטונים שהועלו, ממוינים לפי אירוע ותאריך</p>
      <div class="header-links">
        <a href="https://www.youtube.com/@TableTennisIsrael" target="_blank" rel="noopener noreferrer" class="header-link">
          <span class="header-link-icon"><i class="fa-brands fa-square-youtube"></i></span>
          <span>ערוץ היוטיוב שלנו</span>
        </a>
        <a href="https://www.tttm.co.il" target="_blank" rel="noopener noreferrer" class="header-link">
          <span class="header-link-icon">🏓</span>
          <span>אתר TTTM</span>
        </a>
        <a href="players.html" class="header-link">
          <span class="header-link-icon"><i class="fa-solid fa-users"></i></span>
          <span>שחקנים</span>
        </a>
        <a href="#" onclick="addToFavorites(); return false;" class="header-link" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: white; font-weight: bold;">
          <span class="header-link-icon">⭐</span>
          <span>הסבר הוספה למועדפים</span>
        </a>
        <!-- Temporarily disabled
        <a href="https://chromewebstore.google.com/detail/nefnohhenhjfhgnlccpondodfbepfema?utm_source=item-share-cb" target="_blank" rel="noopener noreferrer" class="header-link">
          <span class="header-link-icon">🔌</span>
          <span>תוסף Chrome - קישור סרטונים</span>
        </a>
        <a href="tutorial/" class="header-link" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-weight: bold;">
          <span class="header-link-icon">📖</span>
          <span>מדריך שימוש</span>
        </a>
        -->
      </div>
    </div>
  </div>

  <!-- Main Container -->
  <div class="main-container">
     <!-- Left Sidebar with clubs and events list -->
         <!-- Right Sidebar with all filters -->
    <div class="sidebar">
      <div class="sidebar-title" style="margin-top: 24px; cursor: pointer;" onclick="toggleCollapse('playerSection')">
        <span>סינון לפי שחקן<span class="filter-indicator" id="playerFilterIndicator"></span></span>
        <button class="collapse-btn collapsed">
          <i class="fa-solid fa-chevron-down"></i>
        </button>
      </div>
      <div id="playerSection" class="collapsible-content collapsed">
        <input type="text" id="playerSearchInput" class="search-input" placeholder="חפש שחקן...">
        <div id="playerList" class="list-container"></div>
      </div>
      <div class="sidebar-title" style="margin-top: 24px; cursor: pointer;" onclick="toggleCollapse('clubSection')">
        <span>סינון לפי מועדון<span class="filter-indicator" id="clubFilterIndicator"></span></span>
        <button class="collapse-btn collapsed">
          <i class="fa-solid fa-chevron-down"></i>
        </button>
      </div>
      <div id="clubSection" class="collapsible-content collapsed">
        <div id="clubList" class="list-container"></div>
      </div>
       <div class="sidebar-title" style="margin-top: 24px; cursor: pointer;" onclick="toggleCollapse('eventSection')">
        <span>סינון לפי אירוע<span class="filter-indicator" id="eventFilterIndicator"></span></span>
        <button class="collapse-btn collapsed">
          <i class="fa-solid fa-chevron-down"></i>
        </button>
      </div>
      <div id="eventSection" class="collapsible-content collapsed">
        <div id="eventList" class="list-container"></div>
      </div>
      <div class="sidebar-title" style="margin-top: 24px; cursor: pointer;" onclick="toggleCollapse('dateSection')">
        <span>סינון לפי תאריך<span class="filter-indicator" id="dateFilterIndicator"></span></span>
        <button class="collapse-btn collapsed">
          <i class="fa-solid fa-chevron-down"></i>
        </button>
      </div>
      <div id="dateSection" class="collapsible-content collapsed">
        <div id="dateRangeList"></div>
      </div>
    </div>

    <!-- Main content area -->
    <div class="content-area">
      <!-- Filter section -->
      <div class="filter-section" id="filterSection" style="display: none;">
        <div class="filter-title">מסננים פעילים</div>
        <div class="active-filters" id="activeFilters"></div>
        <button class="clear-filters-btn" id="clearFiltersBtn">נקה כל המסננים</button>
      </div>

      <!-- Videos section -->
      <div class="videos-section">
        <div class="section-title">סרטוני משחקים</div>
        <div id="loadingContainer" class="loading">טוען סרטונים...</div>
        <div id="errorContainer"></div>
        <div id="videosContent"></div>
      </div>

      <!-- Statistics section -->
      <div class="statistics-section">
        <div class="section-title">סטטיסטיקה</div>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number" id="totalVideos">0</div>
            <div class="stat-label">סה"כ סרטונים</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalPlayers">0</div>
            <div class="stat-label">שחקנים</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalEvents">0</div>
            <div class="stat-label">אירועים</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalClubs">0</div>
            <div class="stat-label">מועדונים</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Favorites Modal -->
  <div id="favoritesModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="modal-close" onclick="closeFavoritesModal()">×</button>
      <div class="modal-header">
        <div class="modal-icon">⭐</div>
        <h2>הוסף את האתר למועדפים</h2>
      </div>
      <div class="modal-body">
        <p class="modal-description">שמור גישה מהירה לאתר על ידי הוספתו למועדפים בדפדפן שלך</p>

        <div class="instructions-section">
          <div class="instruction-item">
            <div class="instruction-icon">💻</div>
            <div class="instruction-text">
              <strong>Chrome / Edge / Firefox:</strong>
              <br>לחץ <kbd>Ctrl+D</kbd> (Windows) או <kbd>Cmd+D</kbd> (Mac)
            </div>
          </div>
          <div class="instruction-item">
            <div class="instruction-icon">🍎</div>
            <div class="instruction-text">
              <strong>Safari:</strong>
              <br>לחץ <kbd>Cmd+D</kbd>
            </div>
          </div>
          <div class="instruction-item">
            <div class="instruction-icon">⭐</div>
            <div class="instruction-text">
              <strong>דרך נוספת:</strong>
              <br>השתמש בכפתור הכוכב בסרגל הכתובות
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="modal-btn modal-btn-primary" onclick="closeFavoritesModal()">
          <i class="fa-solid fa-check"></i>
          הבנתי, תודה
        </button>
        <div class="modal-video-section">
          <div class="modal-video-title">צפה בסרטון הדרכה:</div>
          <a href="https://www.youtube.com/shorts/ITKsDAMkhXE" target="_blank" rel="noopener noreferrer" class="modal-video-thumbnail" onclick="closeFavoritesModal()">
            <img src="https://img.youtube.com/vi/ITKsDAMkhXE/mqdefault.jpg" alt="סרטון הדרכה" class="modal-video-img">
            <div class="modal-video-play">
              <i class="fa-solid fa-play"></i>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- About Section -->
  <div class="about-section">
    <div class="about-title">אודות האתר</div>
    <div class="about-content">
      <p>האתר הזה נוצר עבור חובבי טניס שולחן ברחבי ישראל, באהבה רבה למשחק.</p>
      <p>כאן תוכלו למצוא סרטונים של משחקים מתחרויות שונות, לעקוב אחרי שחקנים ומועדונים, וליהנות מהתוכן המקצועי והמגוון.</p>
      <p>האתר פותח בעזרת טכנולוגיות AI מתקדמות, במטרה להנגיש את עולם טניס השולחן הישראלי לכולם.</p>
      <p style="margin-top: 16px;">
        תודה מיוחדת ל<strong>מיכאל מסטר</strong>, מאמן ילדים באשדוד, שתרם רעיונות רבים ומועילים לפיתוח האתר ולשיפורו.
      </p>
      <p style="margin-top: 16px;">
        תודה גדולה לקבוצת <strong>מכבי דימונה</strong> על הצילום המסור והמתמיד של הסרטונים, ועל הנחישות והמסירות למען טניס השולחן הישראלי.
      </p>
      <p style="margin-top: 16px; font-weight: bold;">
        בברכה, <a href="https://remesnik.com" target="_blank" rel="noopener noreferrer" style="color: #0066cc; text-decoration: none;">רוני רמסניק</a>
      </p>
    </div>
  </div>

  <!-- Collapse Toggle Function -->
  <script>
    function toggleCollapse(sectionId) {
      const section = document.getElementById(sectionId);
      const header = event.currentTarget;
      const button = header.querySelector('.collapse-btn');
      const icon = button.querySelector('i');

      section.classList.toggle('collapsed');
      button.classList.toggle('collapsed');

      if (section.classList.contains('collapsed')) {
        icon.className = 'fa-solid fa-chevron-down';
      } else {
        icon.className = 'fa-solid fa-chevron-up';
      }
    }
  </script>

  <!-- External JavaScript - Load in correct order -->
  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/api.js"></script>
  <script src="js/data.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
